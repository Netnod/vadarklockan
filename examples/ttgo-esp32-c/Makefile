ARDUINO_DIR := /opt/arduino-1.8.19
ARDUINO_BUILDER := $(ARDUINO_DIR)/arduino-builder
ARDUINO_PACKAGES := $(HOME)/.arduino15/packages
ARDUINO_LIBRARIES := $(HOME)/Arduino/libraries

ARDUINO_FLAGS := -logger=machine -hardware $(ARDUINO_DIR)/hardware -hardware $(ARDUINO_PACKAGES) -tools $(ARDUINO_DIR)/tools-builder -tools $(ARDUINO_DIR)/hardware/tools/avr -tools $(ARDUINO_PACKAGES) -built-in-libraries $(ARDUINO_DIR)/libraries -libraries $(ARDUINO_LIBRARIES) -fqbn=esp32:esp32:esp32:PSRAM=disabled,PartitionScheme=default,CPUFreq=240,FlashMode=qio,FlashFreq=80,FlashSize=4M,UploadSpeed=921600,LoopCore=1,EventsCore=1,DebugLevel=none -vid-pid=1A86_55D4 -ide-version=10819 -build-path /tmp/arduino_build_972665 -warnings=more -build-cache /tmp/arduino_cache_562305 -prefs=build.warn_data_percentage=75 -prefs=runtime.tools.xtensa-esp32-elf-gcc.path=$(ARDUINO_PACKAGES)/esp32/tools/xtensa-esp32-elf-gcc/gcc8_4_0-esp-2021r2-patch3 -prefs=runtime.tools.xtensa-esp32-elf-gcc-gcc8_4_0-esp-2021r2-patch3.path=$(ARDUINO_PACKAGES)/esp32/tools/xtensa-esp32-elf-gcc/gcc8_4_0-esp-2021r2-patch3 -prefs=runtime.tools.mklittlefs.path=$(ARDUINO_PACKAGES)/esp32/tools/mklittlefs/3.0.0-gnu12-dc7f933 -prefs=runtime.tools.mklittlefs-3.0.0-gnu12-dc7f933.path=$(ARDUINO_PACKAGES)/esp32/tools/mklittlefs/3.0.0-gnu12-dc7f933 -prefs=runtime.tools.mkspiffs.path=$(ARDUINO_PACKAGES)/esp32/tools/mkspiffs/0.2.3 -prefs=runtime.tools.mkspiffs-0.2.3.path=$(ARDUINO_PACKAGES)/esp32/tools/mkspiffs/0.2.3 -prefs=runtime.tools.riscv32-esp-elf-gcc.path=$(ARDUINO_PACKAGES)/esp32/tools/riscv32-esp-elf-gcc/gcc8_4_0-esp-2021r2-patch3 -prefs=runtime.tools.riscv32-esp-elf-gcc-gcc8_4_0-esp-2021r2-patch3.path=$(ARDUINO_PACKAGES)/esp32/tools/riscv32-esp-elf-gcc/gcc8_4_0-esp-2021r2-patch3 -prefs=runtime.tools.xtensa-esp32s3-elf-gcc.path=$(ARDUINO_PACKAGES)/esp32/tools/xtensa-esp32s3-elf-gcc/gcc8_4_0-esp-2021r2-patch3 -prefs=runtime.tools.xtensa-esp32s3-elf-gcc-gcc8_4_0-esp-2021r2-patch3.path=$(ARDUINO_PACKAGES)/esp32/tools/xtensa-esp32s3-elf-gcc/gcc8_4_0-esp-2021r2-patch3 -prefs=runtime.tools.esptool_py.path=$(ARDUINO_PACKAGES)/esp32/tools/esptool_py/3.3.0 -prefs=runtime.tools.esptool_py-3.3.0.path=$(ARDUINO_PACKAGES)/esp32/tools/esptool_py/3.3.0 -prefs=runtime.tools.xtensa-esp32s2-elf-gcc.path=$(ARDUINO_PACKAGES)/esp32/tools/xtensa-esp32s2-elf-gcc/gcc8_4_0-esp-2021r2-patch3 -prefs=runtime.tools.xtensa-esp32s2-elf-gcc-gcc8_4_0-esp-2021r2-patch3.path=$(ARDUINO_PACKAGES)/esp32/tools/xtensa-esp32s2-elf-gcc/gcc8_4_0-esp-2021r2-patch3 -verbose

all: ttgo-esp32-c.ino
	$(ARDUINO_BUILDER) -dump-prefs $(ARDUINO_FLAGS) $<
	$(ARDUINO_BUILDER) -compile $(ARDUINO_FLAGS) $<

